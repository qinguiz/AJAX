<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax</title>
	<script src="ajax.js"></script>
	<script>
		window.onload = function(){
			var oBtn = document.querySelector("#btn");
			oBtn.onclick = function(){
				
							setInterval(function(){
								ajax('get','getNews.php','',function(data){
								var data = JSON.parse(data);
								var oUl = document.querySelector("#ul1");
								var aLi,aA,aSpan,aT,aD;
								oUl.innerHTML = '';
								for(var i=0;i<data.length;i++){
									aLi = document.createElement("li");
									aA = document.createElement("a");
									aSpan = document.createElement("span");
									aT = document.createTextNode(data[i].title);
									aD = document.createTextNode("["+data[i].date+"]");
									aA.appendChild(aT);
									aSpan.appendChild(aD);
									aLi.appendChild(aA);
									aLi.appendChild(aSpan);
									oUl.appendChild(aLi);
								}
							});
							},1000)

			}
		}
	</script>
</head>
<body>
	<button id="btn">Button</button>
	<ul id="ul1"></ul>
</body>
</html>